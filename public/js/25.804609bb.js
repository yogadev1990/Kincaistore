(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[25],{bc2a:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("q-page",{staticClass:"bg-grey-2 q-pb-lg"},[e("q-header",[e("q-toolbar",[e("q-btn",{directives:[{name:"go-back",rawName:"v-go-back.single",modifiers:{single:!0}}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"}}),e("q-toolbar-title",[t._v("\n       Pengaturan Web\n      ")])],1)],1),t.config?e("div",{staticClass:"q-gutter-y-lg q-pt-md"},[e("tampilan",{attrs:{config:t.config}}),e("theming",{attrs:{config:t.config}}),e("checkout-config",{attrs:{config:t.config}}),e("shipping",{attrs:{config:t.config}}),e("notification",{attrs:{config:t.config}}),e("tripay",{attrs:{config:t.config}}),e("system-update",{attrs:{config:t.config}})],1):t._e(),e("q-inner-loading",{attrs:{showing:t.loading}})],1)},o=[],n=function(){var t=this,e=t._self._c;return e("div",[e("q-card",{attrs:{flat:""}},[e("q-card-section",[e("div",{staticClass:"flex items-center justify-between"},[e("div",{staticClass:"text-md text-weight-bold"},[t._v("Ekspedisi")]),e("div",{staticClass:"q-px-sm rounded-borders text-white",class:t.config&&t.config.can_shipping?"bg-blue-7":"bg-grey-6"},[t._v(t._s(t.config&&t.config.can_shipping?"Active":"Disabled"))])]),e("div",{staticClass:"text-caption text-grey-7"},[e("div",[t._v("Pengaturan ongkir otomatis by Rajaongkir")]),e("div",[t._v("Silahkan daftar di rajaongkir.com untuk mendapatkan apikey")])]),e("div",{staticClass:"q-gutter-y-sm q-py-md"},[e("q-select",{attrs:{label:"Raja Ongkir Tipe",filled:"",options:t.rajaongkirtypes},on:{input:t.selectCourierType},model:{value:t.form.rajaongkir_type,callback:function(e){t.$set(t.form,"rajaongkir_type",e)},expression:"form.rajaongkir_type"}}),e("q-input",{attrs:{filled:"",label:"Raja Ongkir API KEY"},model:{value:t.form.rajaongkir_apikey,callback:function(e){t.$set(t.form,"rajaongkir_apikey",e)},expression:"form.rajaongkir_apikey"}})],1),t.config&&t.config.is_shippable?e("div",{staticClass:"q-mt-lg"},[e("div",{staticClass:"text-grey-8 text-sm q-py-sm"},[t._v("Pengaturan Gudang Pengiriman")]),e("div",{staticClass:"cursor-pointer q-pa-md full-width border q-filled",on:{click:t.changeWarehouse}},[t._v(t._s(t.form.warehouse_address?t.form.warehouse_address:"Pilih Gudang Pengiriman"))]),t.theCouriers.length?e("div",{staticClass:"q-mt-md"},[e("div",{staticClass:"text-grey-8 text-sm q-py-sm"},[t._v("Pilih Kurir")]),e("div",{staticClass:"q-gutter-sm"},t._l(t.theCouriers,(function(i,a){return e("q-btn",{key:a,attrs:{unelevated:"",rounded:"",size:"10px",color:t.isCourierActive(i)?"blue-5":"grey-5",label:i},on:{click:function(e){return t.handleSelectCourier(i)}}})})),1)]):t._e()]):t._e()]),t.config&&t.config.is_shippable?e("q-card-section",[e("div",[e("div",{staticClass:"text-md text-weight-bold"},[t._v("Pengaturan COD")]),e("div",{staticClass:"q-mb-sm text-caption text-grey-7"},[t._v("Pengaturan kota tujuan untuk pengiriman COD "),e("br"),t._v("( Kosongkan untuk menonaktifkan ) ")]),e("div",{staticClass:"q-pa-sm q-gutter-y-sm"},[e("q-select",{attrs:{filled:"",borderless:"",options:t.provinceOptions,label:"Pilih Provinsi","emit-value":"","map-options":""},on:{input:t.provinceCodSelected},model:{value:t.province_id,callback:function(e){t.province_id=e},expression:"province_id"}}),e("q-select",{attrs:{"stack-label":"",filled:"",borderless:"",label:"Pilih Kabupaten / Kota",options:t.cityCodOptions,"use-chips":"",multiple:""},model:{value:t.form.cod_list,callback:function(e){t.$set(t.form,"cod_list",e)},expression:"form.cod_list"}})],1)])]):t._e(),e("q-card-actions",{staticClass:"q-pa-md justify-end"},[e("q-btn",{attrs:{unelevated:"",size:"12px",label:"Simpan Ekspedisi",color:"blue-7"},on:{click:t.updateData}})],1)],1),e("q-dialog",{model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[e("q-card",{staticStyle:{width:"100%","max-width":"400px"}},[e("q-card-section",[e("div",{staticClass:"text-md text-weight-bold q-mb-sm"},[t._v("Pilih Gudang Pengiriman")]),e("div",{staticClass:"q-pa-sm"},[e("q-select",{attrs:{options:t.provinceOptions,label:"Pilih Provinsi","emit-value":"","map-options":""},on:{input:t.provinceSelected},model:{value:t.province_id,callback:function(e){t.province_id=e},expression:"province_id"}}),e("q-select",{attrs:{label:"Pilih Kabupaten / Kota",options:t.cityOptions,"emit-value":"","map-options":"",loading:t.loading},on:{input:t.citySelected},model:{value:t.city_id,callback:function(e){t.city_id=e},expression:"city_id"}})],1)])],1)],1)],1)},s=[],r=i("ded3"),c=i.n(r),l=(i("4de4"),i("7db0"),i("caad"),i("a15b"),i("14d9"),i("e9f5"),i("910d"),i("f665"),i("7d54"),i("d3b7"),i("e6cf"),i("a79d"),i("2532"),i("159b"),i("758b")),d={props:["config"],data:function(){return{codListModal:!1,loading:!1,modal:!1,rajaongkirtypes:["starter","basic","pro"],provinceOptions:[],subdistrictOptions:[],cityOptions:[],cityCodOptions:[],form:{rajaongkir_type:"",rajaongkir_apikey:"",warehouse_id:"",warehouse_address:"",rajaongkir_couriers:"",cod_list:[]},province_id:"",city_id:""}},computed:{courierHasSelect:function(){return this.form.rajaongkir_couriers?this.form.rajaongkir_couriers.split(","):[]},theCouriers:function(){return"pro"==this.form.rajaongkir_type?this.config.courier_available.pro:"basic"==this.form.rajaongkir_type?this.config.courier_available.basic:this.config.courier_available.starter}},mounted:function(){this.config&&(this.setData(),this.getProvince())},methods:{changeWarehouse:function(){this.modal=!0},setData:function(){this.form.rajaongkir_type=this.config.rajaongkir_type,this.form.rajaongkir_apikey=this.config.rajaongkir_apikey,this.form.rajaongkir_couriers=this.config.rajaongkir_couriers,this.form.warehouse_address=this.config.warehouse_address,this.form.warehouse_id=this.config.warehouse_id,this.form.cod_list=this.config.cod_list},selectCourierType:function(){this.form.rajaongkir_couriers=""},isCourierActive:function(t){return!!this.courierHasSelect.length&&!!this.courierHasSelect.includes(t)},handleSelectCourier:function(t){var e=this.courierHasSelect;e.includes(t)?e=e.filter((function(e){return e!=t})):e.push(t),e.length&&(this.form.rajaongkir_couriers=e.join(","))},showNotify:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t?this.$q.notify({type:"negative",message:"Gagal memperbarui data"}):this.$q.notify({type:"positive",message:"Berhasil memperbarui data"})},updateData:function(){var t=this;c()(c()({},this.config),this.form);Object(l["a"])().post("config",this.form).then((function(){t.$store.dispatch("getAdminConfig"),t.provinceOptions.length||t.getProvince(),t.showNotify()})).catch((function(){t.showNotify(error)}))},submitWarehouse:function(){this.updateData()},setLoading:function(t){this.$store.commit("SET_LOADING",t)},getProvince:function(){var t=this;this.form.rajaongkir_apikey&&(this.setLoading(!0),this.provinceOptions=[],Object(l["a"])().get("shipping/getProvince").then((function(e){if(200==e.status)if(e.data.success){var i=e.data.results;i.forEach((function(e){var i={label:e.province,value:e.province_id};t.provinceOptions.push(i)}))}else t.$q.notify({type:"negative",message:e.data.message})})).finally((function(){t.setLoading(!1)})))},getCity:function(){var t=this;this.loading=!0,this.setLoading(!0),Object(l["a"])().get("shipping/getCity/"+this.province_id).then((function(e){if(200==e.status)if(e.data.success){var i=e.data.results;i.forEach((function(e){var i={label:e.type+" "+e.city_name,value:e.city_id};t.cityOptions.push(i)}))}else t.$q.notify({type:"negative",message:e.data.message})})).finally((function(){t.setLoading(!1),t.loading=!1}))},getSubdistrict:function(){var t=this;this.setLoading(!0),Object(l["a"])().get("shipping/getSubdistrict/"+this.city_id).then((function(e){if(200==e.status)if(e.data.success){var i=e.data.results;i.forEach((function(e){var i={label:e.subdistrict_name,value:e.subdistrict_id};t.subdistrictOptions.push(i)}))}else t.$q.notify({type:"negative",message:e.data.message})})).finally((function(){t.setLoading(!1)}))},provinceCodSelected:function(){var t=this;this.setLoading(!0),Object(l["a"])().get("shipping/getCity/"+this.province_id).then((function(e){if(200==e.status)if(e.data.success){var i=e.data.results;i.forEach((function(e){var i={label:e.type+" "+e.city_name,value:e.city_id};t.cityCodOptions.push(i)}))}else t.$q.notify({type:"negative",message:e.data.message})})).finally((function(){t.setLoading(!1)}))},provinceSelected:function(){this.cityOptions=[],this.city_id="",this.province_id&&this.getCity()},citySelected:function(){var t=this,e=this.provinceOptions.find((function(e){return e.value==t.province_id})),i=this.cityOptions.find((function(e){return e.value==t.city_id}));this.form.warehouse_id=this.city_id,this.form.warehouse_address=i.label+", "+e.label,this.modal=!1}}},u=d,m=i("2877"),f=i("f09f"),p=i("a370"),g=i("ddd8"),h=i("27f9"),_=i("9c40"),v=i("4b7e"),y=i("24e8"),b=i("eebe"),k=i.n(b),q=Object(m["a"])(u,n,s,!1,null,null,null),C=q.exports;k()(q,"components",{QCard:f["a"],QCardSection:p["a"],QSelect:g["a"],QInput:h["a"],QBtn:_["a"],QCardActions:v["a"],QDialog:y["a"]});var w=function(){var t=this,e=t._self._c;return e("q-card",{attrs:{flat:""}},[e("q-card-section",[e("div",{staticClass:"text-subtitle1 text-weight-bold"},[t._v("Basic")]),e("div",{staticClass:"text-caption text-grey-7"},[t._v("Pengaturan tampilan produk dan social proof")])]),e("q-list",[e("q-item",[e("q-item-section",[e("q-item-label",[t._v("\r\n          Tampilan produk beranda\r\n        ")])],1),e("q-item-section",{attrs:{side:""}},[e("div",{staticClass:"q-gutter-x-sm"},[e("q-btn",{attrs:{label:"Grid Mode",size:"sm",unelevated:"",color:"grid"==t.form.home_view_mode?"blue-7":"grey-6",dense:"",icon:"grid_view"},on:{click:function(e){return t.changeHomeViewMode("grid")}}},[e("q-tooltip",[t._v("\r\n              Grid Mode\r\n            ")])],1),e("q-btn",{attrs:{label:"List Mode",size:"sm",unelevated:"",color:"list"==t.form.home_view_mode?"blue-7":"grey-6",dense:"",icon:"view_list"},on:{click:function(e){return t.changeHomeViewMode("list")}}},[e("q-tooltip",[t._v("\r\n              List Mode\r\n            ")])],1)],1)])],1),e("q-item",[e("q-item-section",[e("q-item-label",[t._v("\r\n         Tampilan produk katalog\r\n        ")])],1),e("q-item-section",{attrs:{side:""}},[e("div",{staticClass:"q-gutter-x-sm"},[e("q-btn",{attrs:{label:"Grid Mode",size:"sm",unelevated:"",color:"grid"==t.form.product_view_mode?"blue-7":"grey-6",dense:"",icon:"grid_view"},on:{click:function(e){return t.changeProductViewMode("grid")}}},[e("q-tooltip",[t._v("\r\n              Grid Mode\r\n            ")])],1),e("q-btn",{attrs:{label:"List Mode",size:"sm",unelevated:"",color:"list"==t.form.product_view_mode?"blue-7":"grey-6",dense:"",icon:"view_list"},on:{click:function(e){return t.changeProductViewMode("list")}}},[e("q-tooltip",[t._v("\r\n              List Mode\r\n            ")])],1)],1)])],1),e("q-item",{staticClass:"q-mt-md"},[e("q-item-section",[e("q-item-label",{staticClass:"text-weight-medium"},[t._v("Social Proof Popup")]),e("div",{staticClass:"q-mb-sm text-caption text-grey-7 q-mt-sm"},[t._v("\r\n           Pengaturan social proof notifikasi.\r\n         ")])],1),e("q-item-section",{attrs:{side:"",top:""}},[e("q-toggle",{attrs:{label:t.form.is_notifypro?"ON":"OFF","left-label":"",color:"blue-6"},model:{value:t.form.is_notifypro,callback:function(e){t.$set(t.form,"is_notifypro",e)},expression:"form.is_notifypro"}})],1)],1),t.form.is_notifypro?e("q-item",[e("q-item-section",[e("q-input",{attrs:{outlined:"",dense:"",label:"Jeda Waktu Tayang",mask:"###",hint:"Popup akan tayang setiap "+t.form.notifypro_interval+" Detik"},model:{value:t.form.notifypro_interval,callback:function(e){t.$set(t.form,"notifypro_interval",e)},expression:"form.notifypro_interval"}})],1),e("q-item-section",[e("q-input",{attrs:{outlined:"",dense:"",label:"Durasi Penayangan",mask:"###",hint:"Popup akan tayang selama "+t.form.notifypro_timeout+" Detik"},model:{value:t.form.notifypro_timeout,callback:function(e){t.$set(t.form,"notifypro_timeout",e)},expression:"form.notifypro_timeout"}})],1)],1):t._e()],1),e("q-card-section",{staticClass:"flex justify-end"},[e("q-btn",{attrs:{unelevated:"",size:"12px",label:"Simpan",color:"blue-7"},on:{click:t.saveTampilan}})],1)],1)},x=[],j={props:["config"],data:function(){return{form:{home_view_mode:"",product_view_mode:"",is_notifypro:!1,notifypro_interval:20,notifypro_timeout:4}}},mounted:function(){this.form.product_view_mode=this.config.product_view_mode,this.form.home_view_mode=this.config.home_view_mode,this.form.is_notifypro=this.config.is_notifypro,this.form.notifypro_interval=this.config.notifypro_interval,this.form.notifypro_timeout=this.config.notifypro_timeout},methods:{showNotify:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t?this.$q.notify({type:"negative",message:"Gagal memperbarui data"}):this.$q.notify({type:"positive",message:"Berhasil memperbarui data"})},changeHomeViewMode:function(t){this.form.home_view_mode=t},changeProductViewMode:function(t){this.form.product_view_mode=t},saveTampilan:function(){var t=this;c()(c()({},this.config),this.form);Object(l["a"])().post("config",this.form).then((function(e){200==e.status&&t.$store.dispatch("getAdminConfig"),t.showNotify()})).catch((function(){t.showNotify(error)}))}}},Q=j,$=i("1c1c"),O=i("66e5"),S=i("4074"),P=i("0170"),T=i("05c0"),D=i("9564"),I=Object(m["a"])(Q,w,x,!1,null,null,null),N=I.exports;k()(I,"components",{QCard:f["a"],QCardSection:p["a"],QList:$["a"],QItem:O["a"],QItemSection:S["a"],QItemLabel:P["a"],QBtn:_["a"],QTooltip:T["a"],QToggle:D["a"],QInput:h["a"]});var L=function(){var t=this,e=t._self._c;return e("q-card",{attrs:{flat:""}},[e("q-card-section",[e("div",{staticClass:"text-md text-weight-bold"},[t._v("Themes")]),e("div",{staticClass:"text-caption text-grey-7"},[t._v("Pengaturan tema dan warna dasar situs")])]),e("q-form",{on:{submit:function(e){return e.preventDefault(),t.updateData.apply(null,arguments)}}},[e("q-list",[e("q-item",[e("q-item-section",[e("q-item-label",[t._v("Tema")])],1),e("q-item-section",{attrs:{side:""}},[e("q-select",{attrs:{outlined:"",dense:"",options:t.themes},model:{value:t.form.theme,callback:function(e){t.$set(t.form,"theme",e)},expression:"form.theme"}})],1)],1),e("q-item",[e("q-item-section",[e("q-item-label",[t._v("Warna")])],1),e("q-item-section",{attrs:{side:""}},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.form.theme_color,expression:"form.theme_color"}],ref:"color",staticStyle:{width:"110px",height:"20px"},attrs:{type:"color"},domProps:{value:t.form.theme_color},on:{input:function(e){e.target.composing||t.$set(t.form,"theme_color",e.target.value)}}})])],1)],1),e("q-card-section",{staticClass:"flex justify-end"},[e("q-btn",{attrs:{unelevated:"",size:"12px",type:"submit",label:"Simpan Tema",color:"blue-7"}})],1)],1)],1)},A=[],M={props:["config"],data:function(){return{form:{theme:"",theme_color:""}}},computed:{themes:function(){return this.$store.state.themes}},watch:{"form.theme_color":function(t){this.setColor(t)}},mounted:function(){this.config&&(this.form.theme=this.config.theme,this.form.theme_color=this.config.theme_color)},methods:{updateData:function(){var t=this;c()(c()({},this.config),this.form);Object(l["a"])().post("config",this.form).then((function(){t.$q.notify({type:"positive",message:"Berhasil menyimpan pengaturan"}),t.$store.dispatch("getConfig")}))},handleChangeColor:function(){this.$refs.color.click()},setColor:function(t){this.$store.commit("SET_THEME_COLOR",t)}}},B=M,G=i("0378"),E=Object(m["a"])(B,L,A,!1,null,null,null),U=E.exports;k()(E,"components",{QCard:f["a"],QCardSection:p["a"],QForm:G["a"],QList:$["a"],QItem:O["a"],QItemSection:S["a"],QItemLabel:P["a"],QSelect:g["a"],QBtn:_["a"]});var z=function(){var t=this,e=t._self._c;return e("q-card",{attrs:{flat:""}},[e("q-card-section",[e("div",{staticClass:"flex items-center justify-between"},[e("div",{staticClass:"text-subtitle1 text-weight-bold"},[t._v("Pengaturan Checkout")])])]),e("q-list",[e("q-item",[e("q-item-section",[e("q-item-label",[t._v("Whatsapp Checkout")]),e("q-item-label",{attrs:{caption:""}},[t._v("Memungkinan user untuk bisa checkout langsung via whatsapp ( Order tidak tersimpan di database )")])],1),e("q-item-section",{attrs:{side:""}},[e("q-toggle",{attrs:{label:t.form.is_whatsapp_checkout?"YA":"TIDAK","left-label":"",color:"blue-6"},model:{value:t.form.is_whatsapp_checkout,callback:function(e){t.$set(t.form,"is_whatsapp_checkout",e)},expression:"form.is_whatsapp_checkout"}})],1)],1),e("q-item",[e("q-item-section",[e("q-item-label",[t._v("Guest Checkout")]),e("q-item-label",{attrs:{caption:""}},[t._v("Memunginkan checkout tanpa harus login / register")])],1),e("q-item-section",{attrs:{side:""}},[e("q-toggle",{attrs:{label:t.form.is_guest_checkout?"YA":"TIDAK","left-label":"",color:"blue-6"},model:{value:t.form.is_guest_checkout,callback:function(e){t.$set(t.form,"is_guest_checkout",e)},expression:"form.is_guest_checkout"}})],1)],1)],1),e("div",{staticClass:"flex justify-end q-pa-md"},[e("q-btn",{attrs:{unelevated:"",size:"12px",label:"Update Data",color:"blue-7"},on:{click:t.updateData}})],1)],1)},K=[],H={props:["config"],data:function(){return{form:{is_whatsapp_checkout:!1,is_guest_checkout:!0}}},mounted:function(){this.setData()},methods:{updateData:function(){var t=this;c()(c()({},this.config),this.form);Object(l["a"])().post("config",this.form).then((function(){t.showNotify(),t.$store.dispatch("getAdminConfig")})).catch((function(){t.showNotify(error)}))},setData:function(){this.config&&(this.form.is_whatsapp_checkout=this.config.is_whatsapp_checkout,this.form.is_guest_checkout=this.config.is_guest_checkout)},showNotify:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t?this.$q.notify({type:"negative",message:"Gagal memperbarui data"}):this.$q.notify({type:"positive",message:"Berhasil memperbarui data"})}}},R=H,V=Object(m["a"])(R,z,K,!1,null,null,null),W=V.exports;k()(V,"components",{QCard:f["a"],QCardSection:p["a"],QList:$["a"],QItem:O["a"],QItemSection:S["a"],QItemLabel:P["a"],QToggle:D["a"],QBtn:_["a"]});var F=function(){var t=this,e=t._self._c;return e("q-card",{attrs:{flat:""}},[e("q-card-section",[e("div",{staticClass:"flex items-center justify-between"},[e("div",{staticClass:"text-subtitle1 text-weight-bold"},[t._v("Telegram Notifikasi")]),e("div",{staticClass:"q-px-sm rounded-borders text-white",class:t.config&&t.config.is_telegram_ready?"bg-blue-7":"bg-grey-6"},[t._v(t._s(t.config&&t.config.is_telegram_ready?"Active":"Disabled"))])]),e("div",{staticClass:"text-caption text-grey-7"},[t._v("Notifikasi order untuk admin via telegram")]),e("div",{staticClass:"text-caption text-grey-7"},[t._v("Silahkan buat bot di telegram untuk mendapatkan token, serta dapatkan user id di bot @infouserid")]),e("q-form",{on:{submit:function(e){return e.preventDefault(),t.updateData.apply(null,arguments)}}},[e("div",{staticClass:"q-gutter-y-sm q-mt-md"},[e("q-input",{attrs:{filled:"",label:"Telegram Bot Token"},model:{value:t.form.telegram_bot_token,callback:function(e){t.$set(t.form,"telegram_bot_token",e)},expression:"form.telegram_bot_token"}}),e("q-input",{attrs:{filled:"",label:"Telegram user Id"},model:{value:t.form.telegram_user_id,callback:function(e){t.$set(t.form,"telegram_user_id",e)},expression:"form.telegram_user_id"}})],1),e("div",{staticClass:"flex justify-end q-mt-md"},[e("q-btn",{attrs:{unelevated:"",size:"12px",type:"submit",label:"Simpan Telegram",color:"blue-7"}})],1)])],1)],1)},Y=[],J={props:["config"],data:function(){return{form:{telegram_bot_token:"",telegram_user_id:""}}},mounted:function(){this.setData()},methods:{updateData:function(){var t=this;c()(c()({},this.config),this.form);Object(l["a"])().post("config",this.form).then((function(){t.showNotify(),t.$store.dispatch("getAdminConfig")})).catch((function(){t.showNotify(error)}))},setData:function(){this.config&&(this.form.telegram_bot_token=this.config.telegram_bot_token,this.form.telegram_user_id=this.config.telegram_user_id)},showNotify:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t?this.$q.notify({type:"negative",message:"Gagal memperbarui data"}):this.$q.notify({type:"positive",message:"Berhasil memperbarui data"})}}},X=J,Z=Object(m["a"])(X,F,Y,!1,null,null,null),tt=Z.exports;k()(Z,"components",{QCard:f["a"],QCardSection:p["a"],QForm:G["a"],QInput:h["a"],QBtn:_["a"]});var et=function(){var t=this,e=t._self._c;return e("div",{staticClass:"q-pa-md bg-white box-shadow"},[e("div",{staticClass:"flex items-center justify-between q-mb-xs"},[e("div",{staticClass:"text-md text-weight-bold"},[t._v("Tripay Payment Gateway")]),e("div",[e("q-toggle",{attrs:{label:t.form.is_payment_gateway?"Active":"Disabled","left-label":"",color:"blue-7"},on:{input:t.checkIsReady},model:{value:t.form.is_payment_gateway,callback:function(e){t.$set(t.form,"is_payment_gateway",e)},expression:"form.is_payment_gateway"}})],1)]),e("q-form",{on:{submit:function(e){return e.preventDefault(),t.updateDate.apply(null,arguments)}}},[e("div",{staticClass:"q-mb-md text-grey-7 text-caption"},[e("div",[t._v("Pengaturan Tripay payment Gateway")]),e("div",[t._v("Silahkan daftar di tripay.co.id untuk mendapatkan Kredensial")])]),e("div",{staticClass:"q-gutter-y-sm"},[e("q-select",{attrs:{label:"ENV MODE",filled:"",options:t.tripayModes},model:{value:t.form.tripay_mode,callback:function(e){t.$set(t.form,"tripay_mode",e)},expression:"form.tripay_mode"}}),e("q-input",{attrs:{filled:"",label:"Tripay MERCHANT CODE"},model:{value:t.form.tripay_merchant_code,callback:function(e){t.$set(t.form,"tripay_merchant_code",e)},expression:"form.tripay_merchant_code"}}),e("q-input",{attrs:{filled:"",label:"Tripay API KEY"},model:{value:t.form.tripay_api_key,callback:function(e){t.$set(t.form,"tripay_api_key",e)},expression:"form.tripay_api_key"}}),e("q-input",{attrs:{filled:"",label:"Tripay PRIVATE KEY"},model:{value:t.form.tripay_private_key,callback:function(e){t.$set(t.form,"tripay_private_key",e)},expression:"form.tripay_private_key"}})],1),e("div",{staticClass:"flex justify-end q-mt-md"},[e("q-btn",{attrs:{unelevated:"",size:"12px",type:"submit",label:"Simpan Tripay",color:"blue-7"}})],1)])],1)},it=[],at={props:["config"],data:function(){return{tripayModes:["sanbox","production"],form:{tripay_mode:"",tripay_api_key:"",tripay_private_key:"",tripay_merchant_code:"",is_payment_gateway:!1}}},mounted:function(){this.config&&this.setConfig()},methods:{setConfig:function(){this.config&&(this.form.tripay_mode=this.config.tripay_mode,this.form.tripay_api_key=this.config.tripay_api_key,this.form.tripay_private_key=this.config.tripay_private_key,this.form.tripay_merchant_code=this.config.tripay_merchant_code,this.form.is_payment_gateway=this.config.is_payment_gateway)},updateDate:function(){var t=this;c()(c()({},this.config),this.form);Object(l["a"])().post("config",this.form).then((function(){t.showNotify(),t.$store.dispatch("getAdminConfig")})).catch((function(){t.showNotify(error)}))},checkIsReady:function(t){t&&(this.isReady()||(this.form.is_payment_gateway=!1,this.$q.notify({type:"negative",message:"Silahkan lengkapi data kredensial untuk mengaktifkan payment gateway."})))},isReady:function(){return!!(this.form.tripay_mode&&this.form.tripay_api_key&&this.form.tripay_private_key&&this.form.tripay_merchant_code)},showNotify:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t?this.$q.notify({type:"negative",message:"Gagal memperbarui data"}):this.$q.notify({type:"positive",message:"Berhasil memperbarui data"})}}},ot=at,nt=Object(m["a"])(ot,et,it,!1,null,null,null),st=nt.exports;k()(nt,"components",{QToggle:D["a"],QForm:G["a"],QSelect:g["a"],QInput:h["a"],QBtn:_["a"]});var rt=function(){var t=this,e=t._self._c;return e("q-card",{attrs:{flat:""}},[e("q-card-section",[e("div",{staticClass:"text-md text-weight-bold"},[t._v("System Update / Clear Cache")]),e("div",{staticClass:"text-caption text-grey-7"},[t._v("Pengaturan sistem update dan cache situs, Pastikan anda mengerti apa yang anda lakukan")])]),e("q-list",{staticClass:"q-pb-md"},[e("q-item",[e("q-item-section",[t.needUpdate?e("q-item-label",[e("q-badge",{attrs:{color:"blue-7"}},[t._v(t._s(t.siteData))]),t._v(" Pending Update\n      ")],1):e("q-item-label",[t._v("Updated")])],1),e("q-item-section",{attrs:{side:""}},[e("q-btn",{attrs:{loading:t.loading,disabled:!t.needUpdate,label:t.needUpdate?"Update Now":"No updated found",unelevated:"",color:t.needUpdate?"blue-7":"grey-7",size:"12px"},on:{click:t.updateSystem}})],1)],1),e("q-item",[e("q-item-section",[e("q-item-label",[t._v("Clear Cache")])],1),e("q-item-section",{attrs:{side:""}},[e("q-btn",{attrs:{loading:t.loadingClearChace,label:"Clear Cache",unelevated:"",color:"blue-7",size:"12px"},on:{click:t.clearCache}})],1)],1)],1)],1)},ct=[],lt={data:function(){return{siteData:0,loading:!1,loadingClearChace:!1}},computed:{needUpdate:function(){return 0!=this.siteData}},created:function(){this.getUpdate()},methods:{getUpdate:function(){var t=this;Object(l["a"])().get("update").then((function(e){200==e.status&&(t.siteData=e.data.results)}))},updateSystem:function(){var t=this;this.loading=!0,Object(l["a"])().post("update").then((function(e){200==e.status&&(t.getUpdate(),t.$q.notify({type:"positive",message:"Berhasil update system"}))})).catch((function(){t.$q.notify({type:"negative",message:"Gagal update system, silahkan hubungi pengembang aplikasi."})})).finally((function(){t.loading=!1,setTimeout((function(){location.reload()}),500),t.$router.push({name:"Settings"})}))},clearCache:function(){var t=this;this.loadingClearChace=!0,Object(l["a"])().post("clearCache").then((function(e){200==e.status&&t.$q.notify({type:"positive",message:"Berhasil menghapus cache"})})).catch((function(){t.$q.notify({type:"negative",message:"Gagal menghapus cache, silahkan ulangi lagi"})})).finally((function(){t.loadingClearChace=!1,t.$router.push({name:"Settings"})}))}}},dt=lt,ut=i("58a81"),mt=Object(m["a"])(dt,rt,ct,!1,null,null,null),ft=mt.exports;k()(mt,"components",{QCard:f["a"],QCardSection:p["a"],QList:$["a"],QItem:O["a"],QItemSection:S["a"],QItemLabel:P["a"],QBadge:ut["a"],QBtn:_["a"]});var pt={name:"AdminConfig",components:{Tampilan:N,Theming:U,CheckoutConfig:W,Shipping:C,Notification:tt,Tripay:st,SystemUpdate:ft},computed:{loading:function(){return this.$store.state.loading},config:function(){return this.$store.state.config}},created:function(){this.config||this.$store.dispatch("getAdminConfig")}},gt=pt,ht=i("9989"),_t=i("e359"),vt=i("65c6"),yt=i("6ac5"),bt=i("74f7"),kt=i("2eeb"),qt=Object(m["a"])(gt,a,o,!1,null,null,null);e["default"]=qt.exports;k()(qt,"components",{QPage:ht["a"],QHeader:_t["a"],QToolbar:vt["a"],QBtn:_["a"],QToolbarTitle:yt["a"],QInnerLoading:bt["a"]}),k()(qt,"directives",{GoBack:kt["a"]})}}]);