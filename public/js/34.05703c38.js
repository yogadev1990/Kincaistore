(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[34],{ea7c:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t._self._c;return e("q-page",{attrs:{padding:""}},[e("q-header",[e("q-toolbar",[e("q-btn",{directives:[{name:"go-back",rawName:"v-go-back.single",modifiers:{single:!0}}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"}}),e("q-toolbar-title",[t._v("\n       Edit Post\n      ")])],1)],1),e("q-form",{on:{submit:function(e){return e.preventDefault(),t.submitPost.apply(null,arguments)}}},[e("q-input",{attrs:{label:"Title",rules:[function(t){return t&&t.length>0||"Required"}]},model:{value:t.form.title,callback:function(e){t.$set(t.form,"title",e)},expression:"form.title"}}),e("q-input",{attrs:{label:"Kategori"},model:{value:t.form.tags,callback:function(e){t.$set(t.form,"tags",e)},expression:"form.tags"}}),e("div",{staticClass:"row justify-between items-center text-grey-8 q-py-sm q-my-xs border-b"},[e("div",[t._v("Tampil di Beranda")]),e("div",[e("q-toggle",{attrs:{label:t.form.is_promote?"ya":"tidak","left-label":""},model:{value:t.form.is_promote,callback:function(e){t.$set(t.form,"is_promote",e)},expression:"form.is_promote"}})],1)]),e("div",{staticClass:"row justify-between items-center text-grey-8 q-py-sm q-my-xs border-b"},[e("div",[t._v("Tampil di Halaman")]),e("div",[e("q-toggle",{attrs:{label:t.form.is_listing?"ya":"tidak","left-label":""},model:{value:t.form.is_listing,callback:function(e){t.$set(t.form,"is_listing",e)},expression:"form.is_listing"}})],1)]),e("div",{staticClass:"q-mt-md"},[e("div",{staticClass:"q-my-sm label-text"},[t._v("\n        Konten\n      ")]),e("q-editor",{model:{value:t.form.body,callback:function(e){t.$set(t.form,"body",e)},expression:"form.body"}})],1),e("q-footer",[e("q-btn",{staticClass:"full-width",attrs:{label:"Update Data",type:"submit",color:"primary"}})],1)],1),e("div",{staticClass:"q-my-md"},[e("q-btn",{staticClass:"mt-2 mr-2",attrs:{label:"Upload Gambar",size:"sm",color:"primary",icon:"upload",type:"button"},on:{click:function(e){return e.preventDefault(),t.selectNewImage.apply(null,arguments)}}})],1),t.imagePreview?e("q-list",[e("q-item",[e("q-item-section",[e("img",{staticClass:"shadow-4 q-pa-xs bg-white",staticStyle:{width:"100px",height:"70px","object-fit":"cover"},attrs:{src:t.imagePreview}})]),e("q-space"),e("q-item-section",{attrs:{side:""}},[e("q-btn",{attrs:{size:"sm",color:"red",glossy:"",round:"",icon:"delete"},on:{click:t.removeImage}})],1)],1)],1):t._e(),e("input",{ref:"image",staticClass:"hidden",attrs:{type:"file"},on:{change:t.updateImagePreview}}),e("q-inner-loading",{attrs:{showing:t.loading}},[e("q-spinner-facebook",{attrs:{size:"50px",color:"primary"}})],1)],1)},s=[],o=i("ded3"),r=i.n(o),n=i("2f62"),l={name:"PostCreate",data:function(){return{loading:!1,form:{id:"",title:"",tags:"",body:"",image:"",del_image:!1,is_listing:!1,is_promote:!0},imagePreview:""}},methods:r()(r()({},Object(n["b"])("post",["updatePost","getSinglePost"])),{},{submitPost:function(){this.updatePost(this.form)},updateImagePreview:function(){var t=this;if(this.form.image=this.$refs.image.files[0],this.form.image){var e=new FileReader;e.onload=function(e){t.imagePreview=e.target.result},e.readAsDataURL(this.$refs.image.files[0])}},selectNewImage:function(){this.$refs.image.click()},removeImage:function(){this.imagePreview="",this.form.image="",this.form.del_image=!0},getPostData:function(){var t=this;this.loading=!0,this.getSinglePost(this.$route.params.id).then((function(e){if(t.loading=!1,200==e.status){var i=e.data.results;t.form.id=i.id,t.form.title=i.title,t.form.tags=i.tags,t.form.is_promote=i.is_promote,t.form.is_listing=i.is_listing,t.form.body=i.body,t.imagePreview=i.image_url}})).catch((function(){t.loading=!1}))}}),created:function(){this.getPostData()}},m=l,c=i("2877"),d=i("9989"),f=i("e359"),g=i("65c6"),u=i("9c40"),p=i("6ac5"),b=i("0378"),v=i("27f9"),h=i("9564"),q=i("d66b"),w=i("7ff0"),y=i("1c1c"),_=i("66e5"),P=i("4074"),k=i("2c91"),Q=i("74f7"),x=i("e669"),C=i("2eeb"),I=i("eebe"),$=i.n(I),T=Object(c["a"])(m,a,s,!1,null,null,null);e["default"]=T.exports;$()(T,"components",{QPage:d["a"],QHeader:f["a"],QToolbar:g["a"],QBtn:u["a"],QToolbarTitle:p["a"],QForm:b["a"],QInput:v["a"],QToggle:h["a"],QEditor:q["a"],QFooter:w["a"],QList:y["a"],QItem:_["a"],QItemSection:P["a"],QSpace:k["a"],QInnerLoading:Q["a"],QSpinnerFacebook:x["a"]}),$()(T,"directives",{GoBack:C["a"]})}}]);